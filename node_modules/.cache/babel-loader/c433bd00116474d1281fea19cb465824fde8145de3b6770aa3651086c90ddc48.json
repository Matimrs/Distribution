{"ast":null,"code":"import PersonList from\"../PersonList/PersonList\";import ResultContainer from\"../ResultContainer/ResultContainer\";import{useState}from\"react\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";class Deudor{constructor(name,cant){this.name=name;this.paga=cant;}}class Individuo{constructor(nombre,gasto,array){this.name=nombre;this.gasto=parseFloat(gasto);this.recibe=false;this.lepaga=[];this.id=idGenerator(array);}}const idGenerator=array=>{if(array.length===0)return 1;else return array[array.length-1].id+1;};const calculate=array=>{const aux=JSON.parse(JSON.stringify(array));let prom=0;aux.forEach(e=>{prom+=e.gasto/aux.length;});aux.forEach(e=>{if(e.gasto>prom){e.recibe=true;let paga;aux.forEach(x=>{if(x!==e){if(x.gasto<prom){if(e.gasto-prom>prom-x.gasto){e.gasto-=prom-x.gasto;paga=prom-x.gasto;x.gasto=prom;}else if(e.gasto-prom<prom-x.gasto){paga=e.gasto-prom;e.gasto=prom;x.gasto+=paga;}else{paga=e.gasto-prom;e.gasto=prom;x.gasto=prom;}let aux=new Deudor(x.name,paga);e.lepaga.push(aux);}}});}});return aux;};const MainContainer=()=>{const[name,setName]=useState('');const handleNameChange=e=>{setName(e.target.value);};const[value,setValue]=useState('');const handleValueChange=e=>{setValue(e.target.value);};const[personList,setPersonList]=useState([]);const[arrayResult,setArrayResult]=useState([]);const handlePersonList=()=>{if(name&&value){let person=new Individuo(name,value,personList);let aux=JSON.parse(JSON.stringify(personList));aux.push(person);setPersonList(aux);setArrayResult([]);setName('');setValue('');}};const handlePersonDelete=id=>{let aux=JSON.parse(JSON.stringify(personList));setPersonList(aux.filter(p=>p.id!==id));setArrayResult([]);};const handleEnter=e=>{if(e.key==='Enter'){const inputName=document.getElementById(\"inputName\");inputName.focus();handlePersonList();}};const handleArrayResult=()=>{let aux=JSON.parse(JSON.stringify(personList));const result=calculate(aux).filter(e=>{return e.recibe;});setArrayResult(result);};return/*#__PURE__*/_jsxs(\"div\",{className:\"mainContainer is-flex is-flex-direction-column is-justify-content-center is-align-items-center\",children:[/*#__PURE__*/_jsxs(\"div\",{class:\"box container columns\",children:[/*#__PURE__*/_jsxs(\"div\",{class:\"column is-four-fifths\",children:[/*#__PURE__*/_jsxs(\"div\",{class:\"field\",children:[/*#__PURE__*/_jsx(\"label\",{class:\"label\",children:\"Name\"}),/*#__PURE__*/_jsx(\"div\",{class:\"control\",children:/*#__PURE__*/_jsx(\"input\",{id:\"inputName\",class:\"input\",type:\"text\",placeholder:\"Name\",value:name,onChange:handleNameChange,onKeyDown:handleEnter,required:true})})]}),/*#__PURE__*/_jsxs(\"div\",{class:\"field\",children:[/*#__PURE__*/_jsx(\"label\",{class:\"label\",children:\"Spent\"}),/*#__PURE__*/_jsx(\"div\",{class:\"control\",children:/*#__PURE__*/_jsx(\"input\",{class:\"input\",id:\"inputValue\",type:\"number\",placeholder:\"Spent\",value:value,onChange:handleValueChange,onKeyDown:handleEnter,required:true})})]})]}),/*#__PURE__*/_jsx(\"div\",{class:\"column is-one-fifths is-flex is-flex-direction-row is-justify-content-center is-align-items-center\",children:/*#__PURE__*/_jsx(\"button\",{class:\"button is-dark\",type:\"submit\",onClick:handlePersonList,children:\"+\"})})]}),/*#__PURE__*/_jsx(PersonList,{personList:personList,handlePersonDelete:handlePersonDelete}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"button\",{onClick:handleArrayResult,className:\"button mb-3\",children:\"Calcular\"})}),/*#__PURE__*/_jsx(ResultContainer,{array:arrayResult})]});};export default MainContainer;","map":{"version":3,"names":["PersonList","ResultContainer","useState","jsx","_jsx","jsxs","_jsxs","Deudor","constructor","name","cant","paga","Individuo","nombre","gasto","array","parseFloat","recibe","lepaga","id","idGenerator","length","calculate","aux","JSON","parse","stringify","prom","forEach","e","x","push","MainContainer","setName","handleNameChange","target","value","setValue","handleValueChange","personList","setPersonList","arrayResult","setArrayResult","handlePersonList","person","handlePersonDelete","filter","p","handleEnter","key","inputName","document","getElementById","focus","handleArrayResult","result","className","children","class","type","placeholder","onChange","onKeyDown","required","onClick"],"sources":["C:/Users/Mati/OneDrive/Pagame Raton React/pagame-raton/src/Components/MainContainer/MainContainer.js"],"sourcesContent":["import PersonList from \"../PersonList/PersonList\";\r\nimport ResultContainer from \"../ResultContainer/ResultContainer\";\r\nimport { useState } from \"react\";\r\nclass Deudor{\r\n    constructor(name, cant){\r\n        this.name = name\r\n        this.paga = cant\r\n    }\r\n}\r\n\r\nclass Individuo{\r\n    constructor(nombre,gasto,array){\r\n        this.name=nombre\r\n        this.gasto=parseFloat(gasto)\r\n        this.recibe=false\r\n        this.lepaga = []\r\n        this.id = idGenerator(array)\r\n    }\r\n}\r\n\r\nconst idGenerator = (array)=>{\r\n    if(array.length === 0) return 1\r\n    else return (array[array.length-1].id + 1)\r\n}\r\n\r\nconst calculate = (array) => {\r\n\r\n    const aux = JSON.parse(JSON.stringify(array));\r\n\r\n    let prom = 0\r\n\r\n    aux.forEach( e =>{\r\n        prom += (e.gasto) / aux.length;\r\n    })  \r\n\r\n    aux.forEach((e)=>{  \r\n        if(e.gasto > prom){\r\n            e.recibe = true\r\n            let paga\r\n            aux.forEach((x)=>{\r\n                if(x !== e){\r\n                    if(x.gasto < prom){\r\n                        if((e.gasto - prom) > (prom - x.gasto)) {\r\n                            e.gasto -= (prom - x.gasto)\r\n                            paga = (prom - x.gasto)\r\n                            x.gasto = prom\r\n                        }\r\n                        else if((e.gasto - prom) < (prom - x.gasto)){\r\n                            paga = (e.gasto - prom)\r\n                            e.gasto = prom\r\n                            x.gasto += paga\r\n                        }\r\n                        else{\r\n                            paga = (e.gasto - prom)\r\n                            e.gasto = prom\r\n                            x.gasto = prom\r\n                        }\r\n                        let aux = new Deudor(x.name, paga)\r\n                        e.lepaga.push(aux)\r\n                    }\r\n                }\r\n            })\r\n        }\r\n    })\r\n    return aux;\r\n}\r\n\r\n\r\nconst MainContainer = ()=>{\r\n    \r\n    const [name,setName] = useState('')\r\n\r\n    const handleNameChange = (e)=>{\r\n        setName(e.target.value);\r\n    }\r\n\r\n    const [value,setValue] = useState('')\r\n\r\n    const handleValueChange = (e)=>{\r\n        setValue(e.target.value);\r\n    }\r\n\r\n    const [personList, setPersonList] = useState([])\r\n\r\n    const [arrayResult, setArrayResult] = useState([])\r\n\r\n    const handlePersonList = ()=>{\r\n        if(name && value){\r\n            let person = new Individuo(name,value,personList);\r\n            let aux = JSON.parse(JSON.stringify(personList));\r\n            aux.push(person)\r\n            setPersonList(aux);\r\n            setArrayResult([]);\r\n            setName('');\r\n            setValue('');\r\n        }\r\n    }\r\n    const handlePersonDelete = (id) => {\r\n        let aux = JSON.parse(JSON.stringify(personList));\r\n        setPersonList(aux.filter((p) => p.id !== id ));\r\n        setArrayResult([]);\r\n    }\r\n\r\n    const handleEnter = (e)=>{\r\n        if(e.key === 'Enter'){\r\n            const inputName = document.getElementById(\"inputName\");\r\n            inputName.focus();\r\n            handlePersonList();\r\n        }\r\n    }\r\n\r\n    const handleArrayResult = ()=>{\r\n        let aux = JSON.parse(JSON.stringify(personList));\r\n        const result = calculate(aux).filter(e=>{\r\n            return e.recibe\r\n        })\r\n        setArrayResult(result)\r\n    }\r\n\r\n    return(\r\n        <div className=\"mainContainer is-flex is-flex-direction-column is-justify-content-center is-align-items-center\">\r\n            <div class=\"box container columns\">\r\n                <div class=\"column is-four-fifths\">\r\n                    <div class=\"field\">\r\n                        <label class=\"label\">Name</label>\r\n                        <div class=\"control\">\r\n                        <input id=\"inputName\" class=\"input\" type=\"text\" placeholder=\"Name\" value={name} onChange={handleNameChange} onKeyDown={handleEnter} required/>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div class=\"field\">\r\n                        <label class=\"label\">Spent</label>\r\n                        <div class=\"control\">\r\n                        <input class=\"input\" id=\"inputValue\" type=\"number\" placeholder=\"Spent\" value={value} onChange={handleValueChange} onKeyDown={handleEnter} required/>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class=\"column is-one-fifths is-flex is-flex-direction-row is-justify-content-center is-align-items-center\">\r\n                    <button class=\"button is-dark\" type=\"submit\" onClick={handlePersonList}>+</button>\r\n                </div>\r\n            </div>\r\n                \r\n            <PersonList personList={personList} handlePersonDelete={handlePersonDelete}/>\r\n            <div>\r\n                <button onClick={handleArrayResult} className=\"button mb-3\">Calcular</button>\r\n            </div>\r\n            <ResultContainer array={arrayResult}/>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default MainContainer;"],"mappings":"AAAA,MAAO,CAAAA,UAAU,KAAM,0BAA0B,CACjD,MAAO,CAAAC,eAAe,KAAM,oCAAoC,CAChE,OAASC,QAAQ,KAAQ,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBACjC,KAAM,CAAAC,MAAM,CACRC,WAAWA,CAACC,IAAI,CAAEC,IAAI,CAAC,CACnB,IAAI,CAACD,IAAI,CAAGA,IAAI,CAChB,IAAI,CAACE,IAAI,CAAGD,IAAI,CACpB,CACJ,CAEA,KAAM,CAAAE,SAAS,CACXJ,WAAWA,CAACK,MAAM,CAACC,KAAK,CAACC,KAAK,CAAC,CAC3B,IAAI,CAACN,IAAI,CAACI,MAAM,CAChB,IAAI,CAACC,KAAK,CAACE,UAAU,CAACF,KAAK,CAAC,CAC5B,IAAI,CAACG,MAAM,CAAC,KAAK,CACjB,IAAI,CAACC,MAAM,CAAG,EAAE,CAChB,IAAI,CAACC,EAAE,CAAGC,WAAW,CAACL,KAAK,CAAC,CAChC,CACJ,CAEA,KAAM,CAAAK,WAAW,CAAIL,KAAK,EAAG,CACzB,GAAGA,KAAK,CAACM,MAAM,GAAK,CAAC,CAAE,MAAO,EAAC,KAC1B,OAAQ,CAAAN,KAAK,CAACA,KAAK,CAACM,MAAM,CAAC,CAAC,CAAC,CAACF,EAAE,CAAG,CAAC,CAC7C,CAAC,CAED,KAAM,CAAAG,SAAS,CAAIP,KAAK,EAAK,CAEzB,KAAM,CAAAQ,GAAG,CAAGC,IAAI,CAACC,KAAK,CAACD,IAAI,CAACE,SAAS,CAACX,KAAK,CAAC,CAAC,CAE7C,GAAI,CAAAY,IAAI,CAAG,CAAC,CAEZJ,GAAG,CAACK,OAAO,CAAEC,CAAC,EAAG,CACbF,IAAI,EAAKE,CAAC,CAACf,KAAK,CAAIS,GAAG,CAACF,MAAM,CAClC,CAAC,CAAC,CAEFE,GAAG,CAACK,OAAO,CAAEC,CAAC,EAAG,CACb,GAAGA,CAAC,CAACf,KAAK,CAAGa,IAAI,CAAC,CACdE,CAAC,CAACZ,MAAM,CAAG,IAAI,CACf,GAAI,CAAAN,IAAI,CACRY,GAAG,CAACK,OAAO,CAAEE,CAAC,EAAG,CACb,GAAGA,CAAC,GAAKD,CAAC,CAAC,CACP,GAAGC,CAAC,CAAChB,KAAK,CAAGa,IAAI,CAAC,CACd,GAAIE,CAAC,CAACf,KAAK,CAAGa,IAAI,CAAKA,IAAI,CAAGG,CAAC,CAAChB,KAAM,CAAE,CACpCe,CAAC,CAACf,KAAK,EAAKa,IAAI,CAAGG,CAAC,CAAChB,KAAM,CAC3BH,IAAI,CAAIgB,IAAI,CAAGG,CAAC,CAAChB,KAAM,CACvBgB,CAAC,CAAChB,KAAK,CAAGa,IAAI,CAClB,CAAC,IACI,IAAIE,CAAC,CAACf,KAAK,CAAGa,IAAI,CAAKA,IAAI,CAAGG,CAAC,CAAChB,KAAM,CAAC,CACxCH,IAAI,CAAIkB,CAAC,CAACf,KAAK,CAAGa,IAAK,CACvBE,CAAC,CAACf,KAAK,CAAGa,IAAI,CACdG,CAAC,CAAChB,KAAK,EAAIH,IAAI,CACnB,CAAC,IACG,CACAA,IAAI,CAAIkB,CAAC,CAACf,KAAK,CAAGa,IAAK,CACvBE,CAAC,CAACf,KAAK,CAAGa,IAAI,CACdG,CAAC,CAAChB,KAAK,CAAGa,IAAI,CAClB,CACA,GAAI,CAAAJ,GAAG,CAAG,GAAI,CAAAhB,MAAM,CAACuB,CAAC,CAACrB,IAAI,CAAEE,IAAI,CAAC,CAClCkB,CAAC,CAACX,MAAM,CAACa,IAAI,CAACR,GAAG,CAAC,CACtB,CACJ,CACJ,CAAC,CAAC,CACN,CACJ,CAAC,CAAC,CACF,MAAO,CAAAA,GAAG,CACd,CAAC,CAGD,KAAM,CAAAS,aAAa,CAAGA,CAAA,GAAI,CAEtB,KAAM,CAACvB,IAAI,CAACwB,OAAO,CAAC,CAAG/B,QAAQ,CAAC,EAAE,CAAC,CAEnC,KAAM,CAAAgC,gBAAgB,CAAIL,CAAC,EAAG,CAC1BI,OAAO,CAACJ,CAAC,CAACM,MAAM,CAACC,KAAK,CAAC,CAC3B,CAAC,CAED,KAAM,CAACA,KAAK,CAACC,QAAQ,CAAC,CAAGnC,QAAQ,CAAC,EAAE,CAAC,CAErC,KAAM,CAAAoC,iBAAiB,CAAIT,CAAC,EAAG,CAC3BQ,QAAQ,CAACR,CAAC,CAACM,MAAM,CAACC,KAAK,CAAC,CAC5B,CAAC,CAED,KAAM,CAACG,UAAU,CAAEC,aAAa,CAAC,CAAGtC,QAAQ,CAAC,EAAE,CAAC,CAEhD,KAAM,CAACuC,WAAW,CAAEC,cAAc,CAAC,CAAGxC,QAAQ,CAAC,EAAE,CAAC,CAElD,KAAM,CAAAyC,gBAAgB,CAAGA,CAAA,GAAI,CACzB,GAAGlC,IAAI,EAAI2B,KAAK,CAAC,CACb,GAAI,CAAAQ,MAAM,CAAG,GAAI,CAAAhC,SAAS,CAACH,IAAI,CAAC2B,KAAK,CAACG,UAAU,CAAC,CACjD,GAAI,CAAAhB,GAAG,CAAGC,IAAI,CAACC,KAAK,CAACD,IAAI,CAACE,SAAS,CAACa,UAAU,CAAC,CAAC,CAChDhB,GAAG,CAACQ,IAAI,CAACa,MAAM,CAAC,CAChBJ,aAAa,CAACjB,GAAG,CAAC,CAClBmB,cAAc,CAAC,EAAE,CAAC,CAClBT,OAAO,CAAC,EAAE,CAAC,CACXI,QAAQ,CAAC,EAAE,CAAC,CAChB,CACJ,CAAC,CACD,KAAM,CAAAQ,kBAAkB,CAAI1B,EAAE,EAAK,CAC/B,GAAI,CAAAI,GAAG,CAAGC,IAAI,CAACC,KAAK,CAACD,IAAI,CAACE,SAAS,CAACa,UAAU,CAAC,CAAC,CAChDC,aAAa,CAACjB,GAAG,CAACuB,MAAM,CAAEC,CAAC,EAAKA,CAAC,CAAC5B,EAAE,GAAKA,EAAG,CAAC,CAAC,CAC9CuB,cAAc,CAAC,EAAE,CAAC,CACtB,CAAC,CAED,KAAM,CAAAM,WAAW,CAAInB,CAAC,EAAG,CACrB,GAAGA,CAAC,CAACoB,GAAG,GAAK,OAAO,CAAC,CACjB,KAAM,CAAAC,SAAS,CAAGC,QAAQ,CAACC,cAAc,CAAC,WAAW,CAAC,CACtDF,SAAS,CAACG,KAAK,CAAC,CAAC,CACjBV,gBAAgB,CAAC,CAAC,CACtB,CACJ,CAAC,CAED,KAAM,CAAAW,iBAAiB,CAAGA,CAAA,GAAI,CAC1B,GAAI,CAAA/B,GAAG,CAAGC,IAAI,CAACC,KAAK,CAACD,IAAI,CAACE,SAAS,CAACa,UAAU,CAAC,CAAC,CAChD,KAAM,CAAAgB,MAAM,CAAGjC,SAAS,CAACC,GAAG,CAAC,CAACuB,MAAM,CAACjB,CAAC,EAAE,CACpC,MAAO,CAAAA,CAAC,CAACZ,MAAM,CACnB,CAAC,CAAC,CACFyB,cAAc,CAACa,MAAM,CAAC,CAC1B,CAAC,CAED,mBACIjD,KAAA,QAAKkD,SAAS,CAAC,gGAAgG,CAAAC,QAAA,eAC3GnD,KAAA,QAAKoD,KAAK,CAAC,uBAAuB,CAAAD,QAAA,eAC9BnD,KAAA,QAAKoD,KAAK,CAAC,uBAAuB,CAAAD,QAAA,eAC9BnD,KAAA,QAAKoD,KAAK,CAAC,OAAO,CAAAD,QAAA,eACdrD,IAAA,UAAOsD,KAAK,CAAC,OAAO,CAAAD,QAAA,CAAC,MAAI,CAAO,CAAC,cACjCrD,IAAA,QAAKsD,KAAK,CAAC,SAAS,CAAAD,QAAA,cACpBrD,IAAA,UAAOe,EAAE,CAAC,WAAW,CAACuC,KAAK,CAAC,OAAO,CAACC,IAAI,CAAC,MAAM,CAACC,WAAW,CAAC,MAAM,CAACxB,KAAK,CAAE3B,IAAK,CAACoD,QAAQ,CAAE3B,gBAAiB,CAAC4B,SAAS,CAAEd,WAAY,CAACe,QAAQ,MAAC,CAAC,CACzI,CAAC,EACL,CAAC,cAENzD,KAAA,QAAKoD,KAAK,CAAC,OAAO,CAAAD,QAAA,eACdrD,IAAA,UAAOsD,KAAK,CAAC,OAAO,CAAAD,QAAA,CAAC,OAAK,CAAO,CAAC,cAClCrD,IAAA,QAAKsD,KAAK,CAAC,SAAS,CAAAD,QAAA,cACpBrD,IAAA,UAAOsD,KAAK,CAAC,OAAO,CAACvC,EAAE,CAAC,YAAY,CAACwC,IAAI,CAAC,QAAQ,CAACC,WAAW,CAAC,OAAO,CAACxB,KAAK,CAAEA,KAAM,CAACyB,QAAQ,CAAEvB,iBAAkB,CAACwB,SAAS,CAAEd,WAAY,CAACe,QAAQ,MAAC,CAAC,CAC/I,CAAC,EACL,CAAC,EACL,CAAC,cACN3D,IAAA,QAAKsD,KAAK,CAAC,oGAAoG,CAAAD,QAAA,cAC3GrD,IAAA,WAAQsD,KAAK,CAAC,gBAAgB,CAACC,IAAI,CAAC,QAAQ,CAACK,OAAO,CAAErB,gBAAiB,CAAAc,QAAA,CAAC,GAAC,CAAQ,CAAC,CACjF,CAAC,EACL,CAAC,cAENrD,IAAA,CAACJ,UAAU,EAACuC,UAAU,CAAEA,UAAW,CAACM,kBAAkB,CAAEA,kBAAmB,CAAC,CAAC,cAC7EzC,IAAA,QAAAqD,QAAA,cACIrD,IAAA,WAAQ4D,OAAO,CAAEV,iBAAkB,CAACE,SAAS,CAAC,aAAa,CAAAC,QAAA,CAAC,UAAQ,CAAQ,CAAC,CAC5E,CAAC,cACNrD,IAAA,CAACH,eAAe,EAACc,KAAK,CAAE0B,WAAY,CAAC,CAAC,EACrC,CAAC,CAEd,CAAC,CAED,cAAe,CAAAT,aAAa"},"metadata":{},"sourceType":"module","externalDependencies":[]}